app

transport : TCP/UDP : 멀티플렉싱과 에러체킹 제공 해야 함

network

link

phy

    

#### reliable

데이터가 유실되지 않고 전달되는

RDT : reliable data protocol

#### rdt v 1.0

- 에러 없다

- 유실 없다

- 별도로 손 댈 게 없다

### rdt v 2.0

- error detection (checksum)

- Feedback ( 에러 발생 한 경우 ACK, 발생하징 않은 경우 NCK)

- retransmission

- feedback에 에러가 발생하면 문제가 생긴다

### rdt v2.1

- 패킷 에러를 요약

- 2.0의 문제점 때문에 sequence number를 패킷에 붙여서 보내야 한다

- SN은 header에 들어가는데 헤더는 크기가 작아서 sn이 무한대로 늘어나면 헤더의 크기가 늘어난다. 때문에 sn을 최소화 해야한다

- sn은 2개면 충분하다(ACK와 NCK만 있는 경우)

### rdt v2.2

- nak를 없앤 거

- 받으면 ack 보냄(SN을 담아서, 가장 마지막에 제대로 받은 정보)

- ack의 넘버가 변하지 않으면 nak랑 동일한 효과

    

에러와 메세지 유실이 동시에 일어난경우

데이터가 오고가지 않음, 피드백이 없다

### 3.0

- timer 도입

- 일정 시간 동안 피드백이 없으면 유실로 판단하고 재전송

- timer의 시간은 정답이 없는 문제
  
  시간이 짧으면 리커버리가 빠르다, 중복 발생 가능
  
  시간이 길면 중복 발생 X, 리커버리가 늦다

![](230323_네트워크4_애플리케이션2_assets/2023-03-23-23-28-43-image.png)

![](230323_네트워크4_애플리케이션2_assets/2023-03-23-23-28-55-image.png)

a : 이상  무

b : 패킷 유실, 타이머 작동, 재 전송

c : ack 유실, 타이머 작동, 재전송

d : 유실 아닌데 시간이 오래 걸림, 타이머 작동, 꼬임

    

packet error > sequence number

packet loss > timer

![](230323_네트워크4_애플리케이션2_assets/2023-03-23-23-31-42-image.png)

전부 헤더에 담김

    

차이점

한 번에 하나의 패킷만 보내는 예시들

실제로는 피드백 받지 않고 쏟아붓는다, 그 이후 피드백


### 3계층 - 네트워크 계층(Network Layer)

이 계층에서 가장 중요한 기능은 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)이다. 

여기에 사용되는 프로토콜의 종류도 다양하고, 라우팅하는 기술도 다양하다.

이 계층은 경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해주는 것이 이 계층의 역할이다. 

이 계층의 대표적인 장비는 라우터 이며, 요즘은 2계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer 3 스위치도 있다.

(여기서 IP주소를 사용한다.)



네트워크 계층(Network layer)은 여러개의 노드를 거칠때마다 경로를 찾아주는 역할을 하는 계층으로 

다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 

기능적, 절차적 수단을 제공한다. 



네트워크 계층은 라우팅, 흐름 제어, 세그멘테이션(segmentation/desegmentation), 오류 제어, 인터네트워킹(Internetworking) 등을 수행한다. 

라우터가 이 계층에서 동작하고 이 계층에서 동작하는 스위치도 있다. 

데이터를 연결하는 다른 네트워크를 통해 전달함으로써 인터넷이 가능하게 만드는 계층이다. 

논리적인 주소 구조(IP), 곧 네트워크 관리자가 직접 주소를 할당하는 구조를 가지며, 계층적(hierarchical)이다.



서브네트의 최상위 계층으로 경로를 설정하고, 청구 정보를 관리한다. 개방형 시스템들의 사이에서 네트워크 연결을 설정, 유지, 해제하는 기능을 부여하고, 전송 계층 사이에 네트워크 서비스 데이터 유닛(NSDU : Network Service Data Unit)을 교환하는 기능을 제공한다.



-> 주소부여(IP), 경로설정(Route)
